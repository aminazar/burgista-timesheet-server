webpackJsonp([0,3],{1e3:function(e,t){e.exports='<div class="login-form-wrapper">\n<div class="logo">Login</div>\n  <!-- Main Form -->\n <div>\n  <div class="login-form-1">\n    <form id="login-form" class="text-left" (ngSubmit)="onSubmit()" #login_form="ngForm">\n      <div class="main-login-form">\n        <div class="login-group">\n          <div class="form-group">\n            <span><i class=" fa fa-user fa-fw" aria-hidden="true"></i></span>\n            <input type="text" class="form-control" id="lg_username" name="lg_username" placeholder="username" [(ngModel)]="user.username" required>\n          </div>\n          <div class="form-group">\n            <span><i class=" fa fa-key fa-fw" aria-hidden="true"></i></span>\n            <input type="password" class="form-control" id="lg_password" name="lg_password" placeholder="password" [(ngModel)]="user.password" (keydown)="makeForgetFalse()" (input)="0">\n          </div>\n          <div class="etc-login-form">\n            <input type="checkbox" id="lg_forget" name="lg_forget" [(ngModel)]="user.forget" [disabled]="user.password.length>0" (input)="0">\n            <label for="lg_forget">I forgot my password</label>\n          </div>\n          <div [ngClass]="[\'login-form-main-message\',\'error\', errMessage.length ? \'show\' : \'\']"><span><i class=" fa fa-exclamation-triangle fa-fw" aria-hidden="true"></i></span>{{errMessage}}</div>\n          <div [ngClass]="[\'login-form-main-message\', message.length ? \'show\' : \'\']"><span><i class=" fa fa-check-square fa-fw" aria-hidden="true"></i></span>{{message}}</div>\n        </div>\n        <button type="submit" class="login-button" [disabled]="!login_form.valid || (!user.forget && user.password.length===0)"><i [ngClass]="[\'fa\', login_form.valid && (user.forget || user.password.length>0)?\'fa-chevron-right\':\'fa-lock\']"></i></button>\n      </div>\n    </form>\n  </div>\n</div>\n</div>\n'},1001:function(e,t){e.exports='<div class="col-sm-8 text-left">\n  <div class="logo-bg">\n    <router-outlet></router-outlet>\n  </div>\n</div>'},1002:function(e,t){e.exports="<p [ngClass]=\"['bg-' + _bgClass, _bgClass,'success', 'fade']\" [ngStyle]=\"{'opacity':opacity, 'transition': transition, 'height': height, 'border-color': borderColor}\">\n  {{_message}}\n</p>\n"},1003:function(e,t){e.exports='<div class="container-fluid">\n  <div class="navbar-header">\n    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n    </button>\n    <a class="navbar-brand" [routerLink]="[\'\']">Burgista Timesheet</a>\n  </div>\n  <div class="collapse navbar-collapse" id="myNavbar">\n    <ul *ngIf="user===\'admin\'" class="nav navbar-nav">\n      <li><a [routerLink]="[\'branches\']">Branches</a></li>\n      <li><a [routerLink]="[\'users\']">Users</a></li>\n      <li><a [routerLink]="[\'employees\']">Employees</a></li>\n      <li><a [routerLink]="[\'report\']">Report</a></li>\n    </ul>\n    <ul class="nav navbar-nav navbar-right">\n      <li *ngIf="!this.isLoggedIn"><a [routerLink]="[\'login\']"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>\n      <li *ngIf="this.isLoggedIn"></li>\n      <li *ngIf="this.isLoggedIn"><a (click)="logout()" ><span class="glyphicon glyphicon-user"></span> {{user}} - <span class="glyphicon glyphicon-log-out"></span> Logout</a></li>\n    </ul>\n  </div>\n</div>'},1004:function(e,t){e.exports='<app-message-fade-out [bgClass]="\'info\'" [(message)]="message"></app-message-fade-out>\n<app-message-fade-out [bgClass]="\'warning\'" [(message)]="errMessage"></app-message-fade-out>\nFrom\n<div class="rtpDatePicker">\n  <material-datepicker class="date-input" [date]="startDate" (onSelect)="onStartSelect($event)"></material-datepicker>\n</div>\nTo\n<div class="rtpDatePicker">\n  <material-datepicker class="date-input" [date]="endDate" (onSelect)="onEndSelect($event)"></material-datepicker>\n</div>\n<md-tab-group (selectChange)="changeBranch($event)">\n  <md-tab *ngFor="let branch of branches">\n    <template md-tab-label>{{branch.name}}</template>\n    <template md-tab-content>\n      <div *ngIf="!disabled">\n        <md-card class="md-card">\n          <md-card-title>{{title}}</md-card-title>\n          <md-card-content>\n            <div class="panel panel-default">\n              <!-- Default panel contents -->\n              <button type="button" class="btn btn-default btn-lg" (click)="downloadCSV()">\n                <i class="fa fa-download" aria-hidden="true"></i> Download\n              </button>\n              <button *ngIf="isFiltered && filteredHasEmail && curBranch===\'ALL\'" type="button" class="btn btn-default btn-lg" (click)="emailReport(filteredEid,filteredName)" [disabled]="!emailEnabled[filteredEid]||emailSent[filteredEid]">\n                <i class="fa fa-envelope" aria-hidden="true"></i> Email report\n              </button>\n              <!-- Table -->\n              <table *ngIf="!isFiltered" class="table">\n                <tr class="darkbg">\n                  <th>&nbsp;</th><th>Firstname</th><th>Surname</th><th>Rate</th><th>Worked</th><th>Breaks</th><th>Paying Time</th><th>Holiday Entitlement</th><th>Wage</th><th>Paid</th><th>Remainder</th><th>&nbsp;</th>\n                </tr>\n                <tr *ngFor="let row of table;let i = index;" [class.darkbg]="i%2">\n                  <td><button (click)="filter(row.eid,row.firstname + \' \' + row.surname)"><i class="fa fa-filter" aria-hidden="true"></i></button></td>\n                  <td>{{row.firstname}}</td>\n                  <td>{{row.surname}}</td>\n                  <td>£{{row.rate.substr(1)}}</td>\n                  <td>{{row.hours}}:{{row.mins}}</td>\n                  <td>{{row.breaks_hours}}:{{row.breaks_mins}}</td>\n                  <td>{{row.paying_time_hours}}:{{row.paying_time_mins}}</td>\n                  <td>{{row.holiday_hours}}:{{row.holiday_mins}}</td>\n                  <td>£{{calc[row.eid].toFixed(2)}}</td>\n                  <td>£<input style="width:65px" [(ngModel)]="paid[row.eid]" (keyup)="recalcPaid()"/></td>\n                  <td>£{{(calc[row.eid]-(paid[row.eid]?paid[row.eid]:0)).toFixed(2)}}</td>\n                  <td><button *ngIf="row.email && curBranch===\'ALL\'" (click)="emailReport(row.eid, row.firstname + \' \' + row.surname)" [disabled]="!this.emailEnabled[row.eid]||this.emailSent[row.eid]" [class.sentEmail]="this.emailSent[row.eid]"><i class="fa fa-envelope" aria-hidden="true"></i></button></td>\n                </tr>\n                <tr class="sumrow">\n                  <td colspan="4" style="text-align:right">Sum</td>\n                  <td>{{hoursSum}}:{{minsSum}}</td>\n                  <td>{{breaksSumHours}}:{{breaksSumMinutes}}</td>\n                  <td>{{payingTimeSumHours}}:{{payingTimeSumMinutes}}</td>\n                  <td>{{holdiaySumHours}}:{{holidaySumMinutes}}</td>\n                  <td>£{{sumSum}}</td>\n                  <td>£{{paidSum}}</td>\n                  <td>£{{remainderSum}}</td>\n                  <td>&nbsp;</td>\n                </tr>\n              </table>\n              <div *ngIf="isFiltered" style="font-size:125%"><button (click)="unfilter()"><i class="fa fa-filter" aria-hidden="true"></i></button> {{filteredName}}</div>\n              <table *ngIf="isFiltered" class="table">\n                <tr class="darkbg">\n                  <th>Date</th><th *ngIf="branch.name===\'All\'">Branch</th><th>Start</th><th>End</th><th>Rate</th><th>Worked</th><th>Break</th><th>Paying Time</th><th>Wage</th>\n                </tr>\n                <tr *ngFor="let row of fTable;let i = index;" [class.darkbg]="i%2">\n                  <td>{{row.sdate}}</td>\n                  <td *ngIf="branch.name===\'All\'">{{row.branch}}</td>\n                  <td>{{row.start_time}}</td>\n                  <td>{{row.end_time}}</td>\n                  <td>£{{row.rate}}</td>\n                  <td>{{row.hours}}:{{row.mins}}</td>\n                  <td>{{row.breaktime}}</td>\n                  <td>{{row.paying_time_hours}}:{{row.paying_time_mins}}</td>\n                  <td>£{{row.wage.toFixed(2)}}</td>\n                </tr>\n                <tr  class="sumrow">\n                  <td *ngIf="branch.name===\'All\'" colspan="5" style="text-align:right">Sum</td>\n                  <td *ngIf="branch.name!==\'All\'" colspan="4" style="text-align:right">Sum</td>\n                  <td>{{fHoursSum}}:{{fMinsSum}}</td>\n                  <td>{{fBreaktimeSumHours}}:{{fBreaktimeSumMinutes}}</td>\n                  <td>{{fPayingTimeSumHours}}:{{fPayingTimeSumMinutes}}</td>\n                  <td>£{{wageSum}}</td>\n                </tr>\n              </table>\n            </div>\n          </md-card-content>\n          <md-card-actions>\n\n          </md-card-actions>\n        </md-card>\n      </div>\n      <div *ngIf="disabled">Please wait ...</div>\n\n    </template>\n  </md-tab>'},1005:function(e,t){e.exports='<div class="col-sm-2 sidenav">\n\n</div>'},1006:function(e,t){e.exports='<md-card class="md-card">\n  <md-card-title-group>\n    <md-card-title class="app-input-section">{{name}} Branch</md-card-title>\n  <md-card-subtitle>\n    {{getSubtitle()}}\n  </md-card-subtitle>\n  </md-card-title-group>\n<md-card-content>\n<table class="table">\n  <tr><th>Name</th><th>Times</th></tr>\n  <tr *ngIf="vacantEmps.length>0">\n    <td><input auto-complete [ngClass]="[\'name-picker\']" [(ngModel)]="addedEmp" [source]="vacantEmps" #newEmp></td>\n    <td><app-interval-input [date]="_date" [beingEdited]="true" (vChange)="addNew($event)"></app-interval-input></td>\n  </tr>\n  <tr><td colspan="3"><app-message-fade-out [bgClass]="\'warning\'" [message]="list.message"></app-message-fade-out></td></tr>\n  <tr *ngFor="let k of engagedEmps">\n    <td>{{list.items[k].name}}</td>\n    <td>\n      <span *ngFor="let wtid of workTimeIDs(k)">\n      <app-interval-input [date]="_date" [initValue]="list.items[k].worktimes[wtid]" (vChange)="list.update(k,wtid,$event)" [beingEdited]="list.beingEdited[k][wtid]" (deleted)="list.delete(k,wtid)" [btnName]="\'update\'"></app-interval-input>\n      </span>\n      <div style="width:100%;border-top:1px solid beige"><app-interval-input [beingEdited]="true" [date]="_date" (vChange)="list.add(k,$event)"></app-interval-input></div>\n    </td>\n  </tr>\n</table>\n</md-card-content>\n</md-card>'},1007:function(e,t){e.exports='<span class="input-group" [ngStyle]="{\'background-color\': _i.nextDay ? \'rgb(14,52,114)\' : null, \'color\': _i.nextDay ? \'white\' : null }" [ngClass]="[!beingEdited?\'time\':\'\',btnName===\'update\'?\'updating\':\'\']">\n    <i *ngIf="_i.nextDay" class=" fa fa-moon-o fa-fw" aria-hidden="true"></i>\n    <span *ngIf="beingEdited" (dblclick)="editCancel()">\n        <input #hi1 type="text" class="time form-control"  placeholder="hh" (keyup)="go($event,1)" [value]="_i.start.toString()">:<input #mi1  (keyup)="go($event,2)" placeholder="mm" type="text" class="time form-control" [value]="_i.start.toString(\'minutes\')"> to <input #hi2  (keyup)="go($event,3)" placeholder="hh" type="text" class="time form-control" [value]="_i.end.toString()">:<input #mi2  (keyup)="go($event,4)" placeholder="mm" type="text" class="time form-control" [value]="_i.end.toString(\'minutes\')"><span [ngClass]="[\'nobreak\',(!_i.nobreak)?\'hasbreak\':\'\']" (click)="changeBreakType()">{{_i.nobreak?\'no break\':\'with break\'}}</span><button #btn (keyup)="go($event,5)" style="color:black" (click)="add()">{{btnName}}</button><span> {{_i.duration()}} </span></span>\n    <span *ngIf="!beingEdited" (click)="editStart()">{{_i}} | <span>{{_i.duration()}} <span *ngIf="_i.nobreak" class="nobreak">no break</span> by: {{_i.by}}</span><span color="red" (click)="delete()"><i class=" fa fa-times fa-fw" style=\'color: red\' aria-hidden="true"></i></span></span>\n</span>'},1008:function(e,t){e.exports='<div style="padding-bottom:10px;margin-bottom:5px;">\n    <a (click)="dateBack()">&lt;&lt;</a> <material-datepicker class="date-input" [date]="tDate" (onSelect)="onDateSelect($event)"></material-datepicker> <a (click)="dateForward()">&gt;&gt;</a>\n</div>\n<md-tab-group>\n    <md-tab *ngFor="let branch of branches">\n        <template md-tab-label>{{branch.name}}</template>\n        <template md-tab-content>\n\n                <app-branch-timesheet [bid]="branch.bid" [name]="branch.name" [date]="tDate"></app-branch-timesheet>\n\n        </template>\n    </md-tab>\n</md-tab-group>'},1009:function(e,t){e.exports="<app-items [api]=\"'user'\" [table]=\"'users'\" [column]=\"'id'\" [id]=\"'uid'\" [placeholder]=\"'Invite user by his/her email address'\"></app-items>"},1267:function(e,t,n){e.exports=n(632)},180:function(e,t,n){"use strict";var i=n(0),a=n(93),o=n(1011);n.n(o);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e,this.auth_key="username",this._origin="/",this.isLoggedInSource=new o.Subject,this.isLoggedIn$=this.isLoggedInSource.asObservable(),this.isLoggedInSource.next(!!localStorage.getItem(this.auth_key)),this.refresh().subscribe(function(e){return console.log("refreshed login service: ",e)})}return Object.defineProperty(e.prototype,"originBeforeLogin",{get:function(){return this._origin},set:function(e){this._origin=e},enumerable:!0,configurable:!0}),e.prototype.sendData=function(e){var t=this,n=new a.Headers;return n.append("Content-Type","application/json"),this.http.post("/login",JSON.stringify(e),{headers:n}).map(function(e){return e.status}).map(function(n){return 200===n&&(localStorage.setItem(t.auth_key,e.username),t.isLoggedInSource.next(!0),t.refresher=setInterval(function(){return t.refresh().subscribe(function(e){return console.log("login refresh result ",e)})},6e4)),n})},e.prototype.logout=function(){var e=this;return this.http.get("/logout").map(function(e){return e.status}).map(function(t){return 200==t&&(localStorage.removeItem(e.auth_key),e.isLoggedInSource.next(!1),clearInterval(e.refresher)),t})},e.prototype.refresh=function(){var e=this;return this.http.get("/session").map(function(e){return e.json()}).map(function(t){return t.user?(localStorage.setItem(e.auth_key,t.user),e.isLoggedInSource.next(!0)):(localStorage.removeItem(e.auth_key),e.isLoggedInSource.next(!1)),t})},e=r([n.i(i.Injectable)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.Http&&a.Http)&&t||Object])],e);var t}()},259:function(e,t,n){"use strict";var i=n(0),a=n(125),o=n(180);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var n=this;this.loginService=e,this.router=t,this._isLoggedIn=!1,e.isLoggedIn$.subscribe(function(e){n.isLoggedIn=e,console.log("guard is-logged-in:",e)},function(e){return console.log(e)})}return Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return this._isLoggedIn},set:function(e){this._isLoggedIn=e},enumerable:!0,configurable:!0}),e.prototype.canActivate=function(e,t){var n=this;return this.isLoggedIn||(n.loginService.originBeforeLogin=t.url,this.router.navigate(["login"])),this.isLoggedIn},e=r([n.i(i.Injectable)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(c="undefined"!=typeof a.a&&a.a)&&c||Object])],e);var t,c}()},260:function(e,t,n){"use strict";var i=n(2);n.n(i);n.d(t,"a",function(){return a});var a=function(){function e(){this.infinity=!0,this.nextDay=!1}return e.prototype.toFormattedDate=function(e){return this.infinity?"infinity":i(e).hours(this.hours).minutes(this.minutes).add(this.nextDay?1:0,"d").format("YYYY-MM-DDTHH:mm:00")},e.prototype.fromDate=function(e){i(e).isValid()?(this.hours=i(e).hours(),this.minutes=i(e).minutes(),this.infinity=!1):this.infinity=!0},e.prototype.toString=function(e){return void 0===e&&(e="hours"),this.infinity?"":(""+this[e]).length<2?"0"+this[e]:""+this[e]},e.prototype.now=function(){this.infinity=!1,this.minutes=i().minutes(),this.hours=i().hours()},e}()},430:function(e,t,n){"use strict";var i=n(0),a=n(395),o=n(259);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){e.registerFontClassAlias("fontawesome","fa")}return e=r([n.i(i.Component)({selector:"app-root",template:n(992),styles:[n(974)],providers:[o.a]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},431:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e=a([n.i(i.Component)({selector:"app-branches",template:n(993),styles:[n(975)]}),o("design:paramtypes",[])],e)}()},432:function(e,t,n){"use strict";var i=n(2);n.n(i);n.d(t,"a",function(){return a});var a=i("1970-01-01").toDate()},433:function(e,t,n){"use strict";var i=n(2),a=(n.n(i),n(432));n.d(t,"a",function(){return o});var o=function(){function e(e){var t=new Date,n=function(e){return void 0!==e?e:""};this.eid=void 0!==e.eid?e.eid:NaN,this.firstname=n(e.firstname),this.surname=n(e.surname),this.email=n(e.email),this.rate=void 0!==e.rate?e.rate.substr(1):"",this.isManager=void 0!==e.role&&"Manager"===e.role,this.contractDate=void 0!==e.contract_date?i(e.contract_date).toDate():t,this.contractEnd=e.contract_end&&"infinity"!==e.contract_end?i(e.contract_end).toDate():a.a,this.username=e.username?e.username:""}return e.prototype.isEqual=function(e){return this.sameName(e)&&Math.round(100*parseFloat(this.rate))===Math.round(100*parseFloat(e.rate))&&this.contractDate===e.contractDate&&this.contractEnd===e.contractEnd&&this.password===e.password&&this.username===e.username&&this.email===e.email},e.prototype.sameName=function(e){return this.firstname.toLowerCase()===e.firstname.toLowerCase()&&this.surname.toLowerCase()===e.surname.toLowerCase()},e.prototype.toString=function(){return this.firstname+" "+this.surname},e.prototype.toObject=function(){var e;return e={firstname:this.firstname,surname:this.surname,email:this.email,rate:this.rate,role:this.isManager?"Manager":"Employee",contract_date:i.utc(this.contractDate).format("YYYY-MM-DD"),contract_end:this.contractEnd!==a.a?i(this.contractEnd).format("YYYY-MM-DD"):"infinity"},this.isManager&&(e.username=this.username,e.password=this.password),e},e.prototype.isExpired=function(){var e=new Date;return this.contractEnd!==a.a&&this.contractEnd<e},e}()},434:function(e,t,n){"use strict";var i=n(0),a=n(96),o=n(433);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.restService=e,this.items=new Array,this.updateEnabled={},this.deleteEnabled={},this.updateCount={},this.addEnabled=!1,this.message="",this.errMessage="",this.tableName="employees",this.apiName="employee"}return e.prototype.remove=function(e){var t=this;console.log("remove",e);var n=this.updateEnabled[e];this.updateEnabled[e]=void 0,this.deleteEnabled[e]=void 0,this.restService.delete(this.apiName,e).subscribe(function(n){var i=n.json(),a=t.items.findIndex(function(t){return t.eid===e});i>0?(t.showMessage("deleted successfully "+i+" row"),a!==-1&&(t.items.splice(a,1),delete t.updateEnabled[e],delete t.deleteEnabled[e])):(t.showMessage("As employee record has worktimes it cannot be deleted. End of contract is set to today."),a!==-1&&(t.items[a].contractEnd=new Date))},function(i){t.showError(i.text()),t.updateEnabled[e]=n,t.deleteEnabled[e]=!0})},e.prototype.add=function(e){var t=this;this.addEnabled=!1,this.restService.insert(e.isManager?"manager":this.apiName,e.toObject()).subscribe(function(n){t.addEnabled=!0,t.showMessage('Row "'+e+'" added.');var i=n.json(),a=e.toObject();a.rate="$"+e.rate,e=new o.a({});var r=new o.a(a);r.eid=i,t.updateEnabled[i]=!1,t.deleteEnabled[i]=!0;var s=t.items.findIndex(function(e){return e.toString()>r.toString()||e.isExpired()});t.items.splice(s,0,r)},function(e){t.showError(e.text()),t.addEnabled=!0})},e.prototype.update=function(e){var t=this,n=e.eid;e.toObject();this.updateEnabled[n]=void 0,this.deleteEnabled[n]=!1,this.restService.update(this.apiName,n,e.toObject()).subscribe(function(i){t.showMessage('"'+e+'" updated.'),t.updateEnabled[n]=!1,t.deleteEnabled[n]=!0,t.updateCount[n]++},function(e){t.updateEnabled[n]=!0,t.deleteEnabled[n]=!0,t.showError(e.text())})},e.prototype.onUpdatable=function(e,t){void 0!==this.updateEnabled[e]&&(this.updateEnabled[e]=t)},e.prototype.showError=function(e){this.errMessage===e?this.errMessage+=" ":this.errMessage=e},e.prototype.showMessage=function(e){this.message===e?this.message+=" ":this.message=e},e.prototype.ngOnInit=function(){var e=this,t=this.restService.get(this.tableName);t.subscribe(function(t){for(var n in t){var i=new o.a(t[n]);e.items.push(i);var a=t[n].eid;e.updateCount[a]=0,e.updateEnabled[a]=!1,e.deleteEnabled[a]=!0}},function(e){return console.log("Failed to get items",e)})},e=r([n.i(i.Component)({selector:"app-employees",template:n(995),styles:[n(977)]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},435:function(e,t,n){"use strict";var i=n(0),a=n(125);n.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.router=e}return e.prototype.ngOnInit=function(){this.router.navigate(["timesheet"])},e=o([n.i(i.Component)({selector:"app-home",template:n(997),styles:[n(979)]}),r("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},436:function(e,t,n){"use strict";var i=n(0),a=n(180),o=n(125);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.loginService=e,this.router=t,this.message="",this.errMessage="",this.user={username:"",password:"",forget:!1}}return e.prototype.onSubmit=function(){var e=this;this.loginService.sendData(this.user).subscribe(function(t){if(200===t){var n=e.loginService.originBeforeLogin;console.log("routing to:",n),e.router.navigate([null!==n?n:""])}else e.message="A link to reset your password is sent to your email."},function(t){return e.errMessage=t.statusText})},e.prototype.makeForgetFalse=function(){this.user.forget=!1},e=r([n.i(i.Component)({selector:"burgista-ts-login",template:n(1e3),styles:[n(982)]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object,"function"==typeof(c="undefined"!=typeof o.a&&o.a)&&c||Object])],e);var t,c}()},437:function(e,t,n){"use strict";var i=n(0),a=n(96),o=n(2),r=(n.n(o),n(969));n.n(r);n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this.restService=e,this.startDate=o().subtract(1,"months").toDate(),this.endDate=o().toDate(),this.title="",this.paid={},this.calc={},this.disabled=!1,this.allBranch={bid:"ALL",name:"All"},this.filteredName="",this.isFiltered=!1,this.curBranch=this.allBranch.bid,this.branches=[this.allBranch],this.filteredEid=NaN,this.paidSum=0,this.remainderSum=0,this.message="",this.errMessage="",this.emailEnabled={},this.emailSent={}}return e.prototype.showError=function(e){this.errMessage===e?this.errMessage+=" ":this.errMessage=e},e.prototype.showMessage=function(e){this.message===e?this.message+=" ":this.message=e},e.prototype.onEndSelect=function(e){this.endDate=e,this.check()},e.prototype.onStartSelect=function(e){this.startDate=e,this.check()},e.prototype.check=function(){var e=this;this.startDate&&this.endDate&&this.startDate<=this.endDate&&(this.title=this.branches.find(function(t){return t.bid===e.curBranch}).name+" - From "+o(this.startDate).format("DD MMM YY")+" To "+o(this.endDate).format("DD MMM YY"),this.restService.getWithParams("report/"+this.curBranch+"/ALL",{start:o(this.startDate).format("YYYY-MM-DD"),end:o(this.endDate).format("YYYY-MM-DD")}).subscribe(function(t){e.table=t,e.hoursSum=0,e.minsSum=0,e.breaksSumHours=0,e.breaksSumMinutes=0,e.payingTimeSumHours=0,e.payingTimeSumMinutes=0,e.holdiaySumHours=0,e.holidaySumMinutes=0,e.sumSum=0;var n=0;for(var i in e.table){e.emailEnabled[e.table[i].eid]=!0,"ALL"===e.curBranch&&void 0===e.emailSent[e.table[i].eid]&&(e.emailSent[e.table[i].eid]=!1),e.paid[e.table[i].eid]=0,e.table[i].breaks_hours=Math.floor(e.table[i].breaks/60),e.table[i].breaks_mins=Math.round(e.table[i].breaks%60),e.table[i].mins<e.table[i].breaks_mins?(e.table[i].paying_time_mins=60+e.table[i].mins-e.table[i].breaks_mins,e.table[i].paying_time_hours=e.table[i].hours-e.table[i].breaks_hours-1):(e.table[i].paying_time_hours=e.table[i].hours-e.table[i].breaks_hours,e.table[i].paying_time_mins=e.table[i].mins-e.table[i].breaks_mins);var a=.12*(60*e.table[i].hours+e.table[i].mins);e.table[i].holiday_hours=Math.floor(a/60),e.table[i].holiday_mins=Math.round(a%60),e.calc[e.table[i].eid]=Math.round(100*parseFloat(e.table[i].rate.substr(1))*(e.table[i].hours+(e.table[i].mins-parseInt(e.table[i].breaks))/60))/100,e.minsSum+=e.table[i].mins,e.minsSum>=60&&(e.hoursSum++,e.minsSum-=60),e.hoursSum+=e.table[i].hours,n+=parseInt(e.table[i].breaks),e.holdiaySumHours+=e.table[i].holiday_hours,e.holidaySumMinutes+=e.table[i].holiday_mins,e.payingTimeSumHours+=e.table[i].paying_time_hours,e.payingTimeSumMinutes+=e.table[i].paying_time_mins,e.sumSum+=e.calc[e.table[i].eid],["mins","breaks_mins","paying_time_mins","holiday_mins"].forEach(function(t){e.table[i][t]<10&&(e.table[i][t]="0"+e.table[i][t])})}e.breaksSumHours=Math.floor(n/60),e.breaksSumMinutes=Math.round(n%60),e.holidaySumMinutes>=60&&(e.holdiaySumHours+=Math.floor(e.holidaySumMinutes/60),e.holidaySumMinutes=Math.round(e.holidaySumMinutes%60)),e.payingTimeSumMinutes>=60&&(e.payingTimeSumHours+=Math.floor(e.payingTimeSumMinutes/60),e.payingTimeSumMinutes=Math.round(e.payingTimeSumMinutes%60)),e.recalcPaid(),["minsSum","breaksSumMinutes","holidaySumMinutes","payingTimeSumMinutes"].forEach(function(t){e[t]<10&&(e[t]="0"+e[t])})},function(e){return console.log(e)}),this.isFiltered&&(this.fTable=[],this.getFilteredTable()))},e.prototype.filter=function(e,t){this.isFiltered=!0,console.log("here"),this.prepareFilter(t,e),this.getFilteredTable()},e.prototype.prepareFilter=function(e,t){this.filteredName=e,this.filteredEid=t,this.filteredHasEmail=!!this.table.find(function(e){return e.eid===t}).email},e.prototype.emailReport=function(e,t){var n=this,i=function(){var i=n.getFilteredData(),a=o(n.startDate).format("YYYY-MM-DD"),r=o(n.endDate).format("YYYY-MM-DD");n.restService.update("report/"+a+"/"+r,e,i).subscribe(function(){n.showMessage("Timesheet is emailed to "+t),n.emailEnabled[e]=!0,n.emailSent[e]=!0},function(t){n.showError(t),n.emailEnabled[e]=!0,n.emailSent[e]=!1})};this.isFiltered?i():(this.prepareFilter(t,e),this.emailEnabled[e]=!1,this.getFilteredTable(i))},e.prototype.getFilteredTable=function(e){var t=this;void 0===e&&(e=null),this.disabled=!0,this.restService.getWithParams("report/"+this.curBranch+"/"+this.filteredEid,{start:o(this.startDate).format("YYYY-MM-DD"),end:o(this.endDate).format("YYYY-MM-DD")}).subscribe(function(n){t.disabled=!1,t.fTable=n,t.fMinsSum=0,t.fHoursSum=0,t.fBreaktimeSumHours=0,t.fBreaktimeSumMinutes=0,t.wageSum=0;var i=0;t.fPayingTimeSumHours=0,t.fPayingTimeSumMinutes=0;for(var a in t.fTable)t.fTable[a].wage=Math.round(100*parseFloat(t.fTable[a].rate.substr(1))*(t.fTable[a].hours+(t.fTable[a].mins-parseInt(t.fTable[a].breaktime))/60))/100,t.fTable[a].start_time=t.fTable[a].start_time.substr(0,5),t.fTable[a].end_time=t.fTable[a].end_time.substr(0,5),t.fTable[a].rate=t.fTable[a].rate.substr(1),t.fMinsSum+=t.fTable[a].mins,t.fMinsSum>=60&&(t.fHoursSum++,t.fMinsSum-=60),t.fHoursSum+=t.fTable[a].hours,i+=t.fTable[a].breaktime,t.wageSum+=t.fTable[a].wage,t.fTable[a].paying_time_hours=t.fTable[a].hours,t.fTable[a].mins<t.fTable[a].breaktime?(t.fTable[a].paying_time_mins=60+t.fTable[a].mins-t.fTable[a].breaktime,t.fTable[a].paying_time_hours--):t.fTable[a].paying_time_mins=t.fTable[a].mins-t.fTable[a].breaktime,t.fPayingTimeSumHours+=t.fTable[a].paying_time_hours,t.fPayingTimeSumMinutes+=t.fTable[a].paying_time_mins,["mins","paying_time_mins"].forEach(function(e){t.fTable[a][e]<10&&(t.fTable[a][e]="0"+t.fTable[a][e])});t.fBreaktimeSumHours=Math.floor(i/60),t.fBreaktimeSumMinutes=Math.round(i%60),t.fPayingTimeSumMinutes>=60&&(t.fPayingTimeSumHours+=Math.floor(t.fPayingTimeSumMinutes/60),t.fPayingTimeSumMinutes=Math.round(t.fPayingTimeSumMinutes%60)),["fMinsSum","fBreaktimeSumMinutes","fPayingTimeSumMinutes"].forEach(function(e){
t[e]<10&&(t[e]="0"+t[e])}),t.wageSum=t.wageSum.toFixed(2),"function"==typeof e&&e()},function(e){t.disabled=!1,console.log(e)})},e.prototype.unfilter=function(){this.isFiltered=!1},e.prototype.recalcPaid=function(){var e=this;this.paidSum=this.table.map(function(t){return parseFloat(e.paid[t.eid]?e.paid[t.eid]:0)}).reduce(function(e,t){return e+t},0).toFixed(2),this.remainderSum=(this.sumSum-this.paidSum).toFixed(2),"number"==typeof this.sumSum&&(this.sumSum=this.sumSum.toFixed(2))},e.prototype.convertToCSV=function(){var e,t,n,i,a,o;o=[];this.paid,this.calc;return o=this.isFiltered?this.getFilteredData():this.getData(),i=",",a="\n",n=Object.keys(o[0]),e="",e+=n.join(i),e+=a,o.forEach(function(o){t=0,n.forEach(function(n){t>0&&(e+=i),e+=o[n],t++}),e+=a}),e},e.prototype.getData=function(){var e=this,t=[];return this.table.forEach(function(n,i){t.push({"#":i+1,ID:n.eid,"First Name":n.firstname,Surname:n.surname,"Hourly Rate":"£"+n.rate.substr(1),Worked:n.hours+":"+n.mins,Breaks:n.breaks_hours+":"+n.breaks_mins,"Paying Time":n.paying_time_hours+":"+n.paying_time_mins,"Holiday Entitlement":n.holiday_hours+":"+n.holiday_mins,"Wage Sum":"£"+e.calc[n.eid].toFixed(2),"Wage Paid":"£"+parseFloat(e.paid[n.eid]).toFixed(2),"Wage Remainder":"£"+(e.calc[n.eid]-e.paid[n.eid]).toFixed(2)})}),t.push({"#":"Sum",ID:"","First Name":"",Surname:"","Hourly Rate":"",Worked:this.hoursSum+":"+this.minsSum,Breaks:this.breaksSumHours+":"+this.breaksSumMinutes,"Paying Time":this.payingTimeSumHours+":"+this.payingTimeSumMinutes,"Holiday Entitlement":this.holdiaySumHours+":"+this.holidaySumMinutes,"Wage Sum":"£"+this.sumSum,"Wage Paid":"£"+this.paidSum,"Wage Remainder":"£"+this.remainderSum}),t},e.prototype.getFilteredData=function(){var e=this,t=[];return this.fTable.forEach(function(n,i){t.push({"#":i+1,Date:n.sdate,Branch:"ALL"===e.curBranch?n.branch:"","Start Time":n.start_time,"End Time":n.end_time,Rate:"£"+n.rate,Worked:n.hours+":"+n.mins,Break:n.breaktime,"Paying Time":n.paying_time_hours+":"+n.paying_time_mins,Wage:"£"+n.wage.toFixed(2)})}),t.push({"#":"Sum",Date:"",Branch:"","Start Time":"","End Time":"",Rate:"",Worked:this.fHoursSum+":"+this.fMinsSum,Break:this.fBreaktimeSumHours+":"+this.fBreaktimeSumMinutes,"Paying Time":this.fPayingTimeSumHours+":"+this.fPayingTimeSumMinutes,Wage:"£"+this.wageSum}),t},e.prototype.downloadCSV=function(e){var t,i=this.convertToCSV();if(null!=i){var a=new Blob([i],{type:"text/csv"});t=this.title+".csv",this.isFiltered&&(t=this.filteredName+" - "+t),n.i(r.saveAs)(a,t)}},e.prototype.ngOnInit=function(){var e=this;this.restService.get("branches").subscribe(function(t){e.branches=[e.allBranch].concat(t)},function(e){return console.log("Failed to get branches",e)}),this.check()},e.prototype.changeBranch=function(e){this.curBranch=this.branches[e.index].bid,this.check()},e=s([n.i(i.Component)({selector:"app-report",template:n(1004),styles:[n(986)]}),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},438:function(e,t,n){"use strict";var i=n(260),a=n(2);n.n(a);n.d(t,"a",function(){return o});var o=function(){function e(){this._start=new i.a,this._end=new i.a,this.breakMinutes=0,this._nobreak=!1,this.by=""}return Object.defineProperty(e.prototype,"nextDay",{get:function(){return this._end.nextDay},set:function(e){this._end.nextDay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nobreak",{get:function(){return this._nobreak},set:function(e){this._nobreak=e,this.setBreaktime()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(e){this._start=e,this._start.infinity=!(e.minutes&&e.hours),e.infinity||this._end.infinity||(60*this._end.hours+1*this._end.minutes<60*e.hours+1*e.minutes?this.nextDay=!0:this.nextDay=!1),this.setBreaktime()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){this._end=e,this._end.infinity=!(e.minutes&&e.hours),e.infinity||this._start.infinity||(60*this._start.hours+1*this._start.minutes>60*e.hours+1*e.minutes?this.nextDay=!0:this.nextDay=!1),this.setBreaktime()},enumerable:!0,configurable:!0}),e.prototype.setBreaktime=function(){if(this._start.infinity||this._end.infinity||this.nobreak)this.breakMinutes=0;else{var e=a(this.endDateTime).diff(a(this.startDateTime),"hours",!0);this.breakMinutes=e>7?40:e>3?20:0}},Object.defineProperty(e.prototype,"startDateTime",{get:function(){return this._start.toFormattedDate(this.date)},set:function(e){if(a(e).isValid()&&a(e).date()!==a(this.date).date())throw"Error beginning of interval: "+e+" does not match context date: "+this.date;this._start.fromDate(a(e).toDate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endDateTime",{get:function(){return this._end.toFormattedDate(this.date)},set:function(e){if(a(e).isValid()){var t=a(a(e).format("YYYY-MM-DD")).diff(a(a(this.date).format("YYYY-MM-DD")),"days");if(t>1||t<0)throw"Error end of interval: "+e+" does not match context date: "+this.date}this._end.fromDate(a(e).toDate()),1===t&&(this._end.nextDay=!0)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return a(this.startDateTime).format("HH:mm")+" to "+a(this.endDateTime).format("HH:mm")},e.prototype.duration=function(){if(this.endDateTime&&this.startDateTime){var e=a(this.endDateTime,"YYYY-MM-DDTHH:mm:ss").diff(a(this.startDateTime,"YYYY-MM-DDTHH:mm:ss"),"hours",!0)-this.breakMinutes/60;return isNaN(e)?"":Math.floor(e)+"hrs "+Math.round(60*(e-Math.floor(e)))+" mins"+(this.breakMinutes?" ("+this.breakMinutes+"mins break)":"")}return""},e.prototype.toObject=function(){var e=a(this.endDateTime).diff(a(this.startDateTime),"minutes");if(e<0)throw"invalid interval: start is "+-e+" minutes after end";var t={start:this.startDateTime,end:this.endDateTime,nobreak:this.nobreak};return t},e.prototype.clone=function(){var t=new e;t.date=this.date,t._nobreak=this._nobreak,t.breakMinutes=this.breakMinutes,t.by=this.by;var n=this;return["_start","_end"].forEach(function(e){["hours","minutes","nextDay","infinity"].forEach(function(i){t[e][i]=n[e][i]})}),t},e}()},439:function(e,t,n){"use strict";var i=n(0),a=n(96),o=n(2);n.n(o);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.restService=e,this.curBranch="",this.tDate=new Date;var t=new Date;this.tDate=t}return e.prototype.onDateSelect=function(e){this.tDate=e},e.prototype.dateBack=function(){this.tDate=o(this.tDate).subtract(1,"days").toDate()},e.prototype.dateForward=function(){this.tDate=o(this.tDate).add(1,"days").toDate()},e.prototype.ngOnInit=function(){var e=this;this.restService.get("branches").subscribe(function(t){e.branches=t,e.curBranch=t[0]},function(e){return console.log("Failed to get branches",e)})},e=r([n.i(i.Component)({selector:"app-times",template:n(1008),styles:[n(990)]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},440:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e=a([n.i(i.Component)({selector:"app-users",template:n(1009),styles:[n(991)]}),o("design:paramtypes",[])],e)}()},631:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=631},632:function(e,t,n){"use strict";var i=n(802),a=(n.n(i),n(758)),o=n(0),r=n(801),s=n(791);r.a.production&&n.i(o.enableProdMode)(),n.i(a.a)().bootstrapModule(s.a)},785:function(e,t,n){"use strict";n.d(t,"a",function(){return i});for(var i=function(){function e(e){void 0===e&&(e=0),this.firstWeekDay=e}return e.prototype.weekStartDate=function(e){for(var t=new Date(e.getTime());t.getDay()!==this.firstWeekDay;)t.setDate(t.getDate()-1);return t},e.prototype.monthDates=function(e,t,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),"number"!=typeof e||e<1970)throw"year must be a number >= 1970";if("number"!=typeof t||t<0||t>11)throw"month must be a number (Jan is 0)";var a=[],o=[],r=0,s=this.weekStartDate(new Date(e,t,1));do{for(r=0;r<7;r++)o.push(n?n(s):s),s=new Date(s.getTime()),s.setDate(s.getDate()+1);a.push(i?i(o):o),o=[]}while(s.getMonth()<=t&&s.getFullYear()===e);return a},e.prototype.monthDays=function(e,t){var n=function(e){return e.getMonth()===t?e:0};return this.monthDates(e,t,n)},e.prototype.monthText=function(e,t){if("undefined"==typeof e){var n=new Date;e=n.getFullYear(),t=n.getMonth()}var i=function(e){for(var n=e.getMonth()===t?e.getDate().toString():"  ";n.length<2;)n=" "+n;return n},a=this.monthDates(e,t,i,function(e){return e.join(" ")});return a.join("\n")},e}(),a="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),o=0;o<a.length;o++)i[a[o]]=o},786:function(e,t,n){"use strict";var i=n(0),a=n(785),o=n(432);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(){this.disabled=!1,this.onSelect=new i.EventEmitter,this.showCalendar=!1,this.colors={black:"#333333",blue:"#1285bf",lightGrey:"#f1f1f1",white:"#ffffff"},this.accentColor=this.colors.blue,this.altInputStyle=!1,this.calendar=new a.a,this.dayNames=["S","M","T","W","T","F","S"],this.months=["January","February","March","April","May","June","July","August","September","October","November"," December"]}return e.prototype.ngOnInit=function(){this.setDate()},e.prototype.ngOnChanges=function(e){e.date&&this.setDate()},e.prototype.setDate=function(){this.date?this.setInputText(this.date):this.date=new Date,this.currentMonthNumber=this.date.getMonth(),this.currentMonth=this.months[this.currentMonthNumber],this.currentYear=this.date.getFullYear();var e=this.calendar.monthDays(this.currentYear,this.currentMonthNumber);this.calendarDays=[].concat.apply([],e)},e.prototype.setCurrentMonth=function(e){this.currentMonth=this.months[e];var t=this.calendar.monthDays(this.currentYear,this.currentMonthNumber);this.calendarDays=[].concat.apply([],t)},e.prototype.setHoveredDay=function(e){this.hoveredDay=e},e.prototype.removeHoveredDay=function(e){this.hoveredDay=null},e.prototype.setInputText=function(e){if(1970===e.getFullYear())this.inputText="";else{var t=(e.getMonth()+1).toString();t.length<2&&(t="0"+t);var n=e.getDate().toString();n.length<2&&(n="0"+n),this.inputText=e.getFullYear()+"/"+t+"/"+n}},e.prototype.onArrowLeftClick=function(){var e,t=this.currentMonthNumber,n=this.currentYear;0===t?(n=this.currentYear-1,e=11):e=t-1;var i=new Date(n,e);(!this.rangeStart||i.getTime()>=this.rangeStart.getTime())&&(this.currentYear=n,this.currentMonthNumber=e,this.setCurrentMonth(e),this.triggerAnimation("left"))},e.prototype.onArrowRightClick=function(){var e,t=this.currentMonthNumber,n=this.currentYear;11===t?(n=this.currentYear+1,e=0):e=t+1;var i=new Date(n,e);(!this.rangeEnd||i.getTime()<=this.rangeEnd.getTime())&&(this.currentYear=n,this.currentMonthNumber=e,this.setCurrentMonth(e),this.triggerAnimation("right"))},e.prototype.onCancel=function(){this.showCalendar=!1},e.prototype.onLeaveEmpty=function(){this.onSelect.emit(o.a),this.showCalendar=!1},e.prototype.onInputClick=function(){1970===this.currentYear&&(this.date=new Date,this.setDate()),this.disabled||(this.showCalendar=!this.showCalendar)},e.prototype.onSelectDay=function(e){this.date=e,this.setInputText(e),this.disabled||(this.showCalendar=!this.showCalendar),this.onSelect.emit(e)},e.prototype.getDayBackgroundColor=function(e){var t=this.colors.white;return this.isChosenDay(e)?t=this.accentColor:this.isCurrentDay(e)&&(t=this.colors.lightGrey),t},e.prototype.getDayFontColor=function(e){var t=this.colors.black;return this.isChosenDay(e)&&(t=this.colors.white),t},e.prototype.isChosenDay=function(e){return!!e&&(!!this.date&&e.toDateString()==this.date.toDateString())},e.prototype.isCurrentDay=function(e){return!!e&&e.toDateString()==(new Date).toDateString()},e.prototype.isHoveredDay=function(e){return!!this.hoveredDay&&(this.hoveredDay==e&&!this.isChosenDay(e))},e.prototype.triggerAnimation=function(e){var t=this;this.animate=e,setTimeout(function(){return t.animate="reset"},185)},r([n.i(i.Input)(),s("design:type",String)],e.prototype,"accentColor",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"disabled",void 0),r([n.i(i.Input)(),s("design:type",Boolean)],e.prototype,"altInputStyle",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"date",void 0),r([n.i(i.Input)(),s("design:type",String)],e.prototype,"fontFamily",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"rangeStart",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"rangeEnd",void 0),r([n.i(i.Input)(),s("design:type",String)],e.prototype,"inputText",void 0),r([n.i(i.Input)(),s("design:type",Boolean)],e.prototype,"showCalendar",void 0),r([n.i(i.Output)(),s("design:type",Object)],e.prototype,"onSelect",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"calendarDays",void 0),r([n.i(i.Input)(),s("design:type",String)],e.prototype,"currentMonth",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"dayNames",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"hoveredDay",void 0),e=r([n.i(i.Component)({selector:"material-datepicker",animations:[n.i(i.trigger)("calendarAnimation",[n.i(i.transition)("* => left",[n.i(i.animate)(180,n.i(i.keyframes)([n.i(i.style)({transform:"translateX(105%)",offset:.5}),n.i(i.style)({transform:"translateX(-130%)",offset:.51}),n.i(i.style)({transform:"translateX(0)",offset:1})]))]),n.i(i.transition)("* => right",[n.i(i.animate)(180,n.i(i.keyframes)([n.i(i.style)({transform:"translateX(-105%)",offset:.5}),n.i(i.style)({transform:"translateX(130%)",offset:.51}),n.i(i.style)({transform:"translateX(0)",offset:1})]))])])],styles:[".datepicker {\n        position: relative;\n        display: inline-block;\n        color: #2b2b2b;\n        font-family: 'Helvetica Neue', 'Helvetica', 'Arial', 'Calibri', 'Roboto';\n      }\n\n      .datepicker__calendar {\n        position: absolute;\n        overflow: hidden;\n        z-index: 1000;\n        top: 1.9em;\n        left: 0;\n        height: 24.25em;\n        width: 20.5em;\n        font-size: 14px;\n        background-color: #ffffff;\n        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n        cursor: default;\n        -webkit-touch-callout: none;\n          -webkit-user-select: none;\n             -moz-user-select: none;\n              -ms-user-select: none;\n                  user-select: none;\n      }\n\n      .datepicker__calendar__cancel {\n        position: absolute;\n        bottom: 1em;\n        left: 1.8em;\n        color: #d8d8d8;\n        cursor: pointer;\n        -webkit-transition: 0.37s;\n        transition: 0.37s;\n      }\n      \n        .datepicker__leave {\n        position: absolute;\n        bottom: 1em;\n        left: 7em;\n        color: #d8d8d8;\n        cursor: pointer;\n        -webkit-transition: 0.37s;\n        transition: 0.37s;\n      }\n       \n      .datepicker__calendar__cancel:hover {\n        color: #b1b1b1;\n      }\n        .datepicker__leave:hover {\n        color: #b1b1b1;\n      }\n      .datepicker__calendar__content {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-flow: wrap;\n            flex-flow: wrap;\n        -webkit-box-pack: center;\n           -ms-flex-pack: center;\n         justify-content: center;\n        margin-top: 0.2em;\n      }\n\n      .datepicker__calendar__label {\n        display: inline-block;\n        width: 2.2em;\n        height: 2.2em;\n        margin: 0.2em;\n        line-height: 2.2em;\n        text-align: center;\n        color: #d8d8d8;\n      }\n\n      .datepicker__calendar__month {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-flow: wrap;\n            flex-flow: wrap;\n        -webkit-box-pack: center;\n           -ms-flex-pack: center;\n         justify-content: center;\n      }\n\n      .datepicker__calendar__month__day {\n        display: inline-block;\n        width: 2.2em;\n        height: 2.2em;\n        margin: 0.2em;\n        border-radius: 2.2em;\n        line-height: 2.2em;\n        text-align: center;\n        -webkit-transition: 0.37s;\n        transition: 0.37s;\n      }\n\n      .datepicker__calendar__nav {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: center;\n           -ms-flex-pack: center;\n         justify-content: center;\n        -webkit-box-align: center;\n           -ms-flex-align: center;\n              align-items: center;\n        height: 3em;\n        background-color: #fff;\n        border-bottom: 1px solid #e8e8e8;\n      }\n\n      .datepicker__calendar__nav__arrow {\n        width: 0.8em;\n        height: 0.8em;\n        cursor: pointer;\n        -webkit-transition: 0.37s;\n        transition: 0.37s;\n      }\n\n      .datepicker__calendar__nav__arrow:hover {\n        -webkit-transform: scale(1.05);\n                transform: scale(1.05);\n      }\n\n      .datepicker__calendar__nav__chevron {\n        fill: #bbbbbb;\n        -webkit-transition: 0.37s;\n        transition: 0.37s;\n      }\n\n      .datepicker__calendar__nav__chevron:hover {\n        fill: #2b2b2b;\n      }\n\n      .datepicker__calendar__nav__header {\n        width: 11em;\n        margin: 0 1em;\n        text-align: center;\n      }\n\n      .datepicker__input {\n        outline: none;\n        border-radius: 0.1rem;\n        padding: .2em .6em;\n        font-size: 14px;\n        width: 90px;\n      }\n    "],template:'\n    <div\n      class="datepicker"\n    >\n      <input\n        class="datepicker__input"\n        [ngStyle]="{\'color\': altInputStyle ? colors[\'white\'] : colors[\'black\'],\n                    \'background-color\': altInputStyle ? accentColor : colors[\'white\'],\n                    \'border\': altInputStyle ? \'\' : \'1px solid #dadada\'}"\n        (click)="onInputClick()"\n        [(ngModel)]="inputText"\n        readonly="true"\n      >\n      <div\n        class="datepicker__calendar"\n        *ngIf="showCalendar&&!disabled"\n      >\n        <div class="datepicker__calendar__nav">\n          <div\n            class="datepicker__calendar__nav__arrow"\n            (click)="onArrowLeftClick()"\n          >\n          <svg class="datepicker__calendar__nav__chevron" x="0px" y="0px" viewBox="0 0 50 50">\n            <g>\n                <path d="M39.7,7.1c0.5,0.5,0.5,1.2,0,1.7L29,19.6c-0.5,0.5-1.2,1.2-1.7,1.7L16.5,32.1c-0.5,0.5-1.2,0.5-1.7,0l-2.3-2.3\n                    c-0.5-0.5-1.2-1.2-1.7-1.7l-2.3-2.3c-0.5-0.5-0.5-1.2,0-1.7l10.8-10.8c0.5-0.5,1.2-1.2,1.7-1.7L31.7,0.8c0.5-0.5,1.2-0.5,1.7,0\n                    l2.3,2.3c0.5,0.5,1.2,1.2,1.7,1.7L39.7,7.1z"/>\n            </g>\n            <g>\n                <path d="M33.4,49c-0.5,0.5-1.2,0.5-1.7,0L20.9,38.2c-0.5-0.5-1.2-1.2-1.7-1.7L8.4,25.7c-0.5-0.5-0.5-1.2,0-1.7l2.3-2.3\n                    c0.5-0.5,1.2-1.2,1.7-1.7l2.3-2.3c0.5-0.5,1.2-0.5,1.7,0l10.8,10.8c0.5,0.5,1.2,1.2,1.7,1.7l10.8,10.8c0.5,0.5,0.5,1.2,0,1.7\n                    L37.4,45c-0.5,0.5-1.2,1.2-1.7,1.7L33.4,49z"/>\n            </g>\n          </svg>\n          </div>\n          <div class="datepicker__calendar__nav__header">\n            {{ currentMonth }} {{ currentYear }}\n          </div>\n          <div\n            class="datepicker__calendar__nav__arrow"\n            (click)="onArrowRightClick()"\n          >\n            <svg class="datepicker__calendar__nav__chevron" x="0px" y="0px" viewBox="0 0 50 50">\n              <g>\n                <path d="M8.4,7.1c-0.5,0.5-0.5,1.2,0,1.7l10.8,10.8c0.5,0.5,1.2,1.2,1.7,1.7l10.8,10.8c0.5,0.5,1.2,0.5,1.7,0l2.3-2.3\n                    c0.5-0.5,1.2-1.2,1.7-1.7l2.3-2.3c0.5-0.5,0.5-1.2,0-1.7L29,13.2c-0.5-0.5-1.2-1.2-1.7-1.7L16.5,0.8c-0.5-0.5-1.2-0.5-1.7,0\n                    l-2.3,2.3c-0.5,0.5-1.2,1.2-1.7,1.7L8.4,7.1z"/>\n              </g>\n              <g>\n                <path d="M14.8,49c0.5,0.5,1.2,0.5,1.7,0l10.8-10.8c0.5-0.5,1.2-1.2,1.7-1.7l10.8-10.8c0.5-0.5,0.5-1.2,0-1.7l-2.3-2.3\n                    c-0.5-0.5-1.2-1.2-1.7-1.7l-2.3-2.3c-0.5-0.5-1.2-0.5-1.7,0L20.9,28.5c-0.5,0.5-1.2,1.2-1.7,1.7L8.4,40.9c-0.5,0.5-0.5,1.2,0,1.7\n                    l2.3,2.3c0.5,0.5,1.2,1.2,1.7,1.7L14.8,49z"/>\n              </g>\n            </svg>\n          </div>\n        </div>\n        <div\n          class="datepicker__calendar__content"\n        >\n          <div\n            class="datepicker__calendar__label"\n            *ngFor="let day of dayNames"\n          >\n            {{ day }}\n          </div>\n          <div\n            [@calendarAnimation]="animate"\n            class="datepicker__calendar__month"\n          >\n            <div\n              *ngFor="let day of calendarDays"\n              class="datepicker__calendar__month__day"\n              [ngStyle]="{\'cursor\': day == 0 ? \'initial\' : \'pointer\',\n                          \'background-color\': getDayBackgroundColor(day),\n                          \'color\': isHoveredDay(day) ? accentColor : getDayFontColor(day)\n                          }"\n              (click)="onSelectDay(day)"\n              (mouseenter)="hoveredDay = day"\n              (mouseleave)="hoveredDay = null"\n            >\n              <span *ngIf="day != 0">\n                {{ day.getDate() }}\n              </span>\n            </div>\n          </div>\n          <div\n            class="datepicker__calendar__cancel"\n            (click)="onCancel()"\n          >\n            Cancel\n          </div>\n          <div class="datepicker__leave"\n            (click)="onLeaveEmpty()"\n          >\n            Leave Empty\n          </div>\n        </div>\n      </div>\n    </div>\n    '}),s("design:paramtypes",[])],e)}()},787:function(e,t,n){"use strict";var i=n(0),a=n(50),o=n(93),r=n(79),s=n(430),c=n(436),d=n(796),l=n(793),u=n(797),p=n(790),f=n(794),h=n(788),m=n(435),b=n(431),g=n(180),y=n(259),v=n(96),k=n(440),_=n(795),w=n(792),x=n(434),j=n(439),S=n(437),E=n(789),D=n(395),M=n(798),C=n(799),O=n(971),R=(n.n(O),n(47)),I=n(818),T=n(786);n.d(t,"a",function(){return N});var P=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},L=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},N=function(){function e(){}return e=P([n.i(i.NgModule)({declarations:[O.Ng2AutoCompleteDirective,T.a,s.a,c.a,d.a,l.a,u.a,p.a,f.a,m.a,b.a,k.a,_.a,w.a,x.a,j.a,S.a,E.a,E.a,T.a,M.a,C.a],imports:[r.e,h.a,a.FormsModule,D.b.forRoot(),o.HttpModule,R.m.forRoot(),I.a],providers:[g.a,v.a,y.a],bootstrap:[s.a]}),L("design:paramtypes",[])],e)}()},788:function(e,t,n){"use strict";var i=n(125),a=n(436),o=n(435),r=n(431),s=n(259),c=n(440),d=n(434),l=n(439),u=n(437);n.d(t,"a",function(){return f});var p=[{path:"",component:o.a,pathMatch:"full"},{path:"login",component:a.a},{path:"branches",component:r.a,canActivate:[s.a]},{path:"users",component:c.a,canActivate:[s.a]},{path:"employees",component:d.a,canActivate:[s.a]},{path:"timesheet",component:l.a,canActivate:[s.a]},{path:"report",component:u.a,canActivate:[s.a]}],f=i.b.forRoot(p)},789:function(e,t,n){"use strict";var i=n(0),a=n(433),o=n(2);n.n(o);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(){this.value=new a.a({}),this.today=new Date,this.subtitle="",this.nameLength=40,this.copy=new a.a({}),this.add=new i.EventEmitter,this.update=new i.EventEmitter,this.delete=new i.EventEmitter,this.updatable=new i.EventEmitter,this.addable=new i.EventEmitter}return Object.defineProperty(e.prototype,"updateCount",{get:function(){return this._updateCount},set:function(e){Object.assign(this.copy,this.value),this._updateCount=e},enumerable:!0,configurable:!0}),e.prototype.action=function(){this.isNew?(this.add.emit(this.value),this.value=new a.a({})):this.update.emit(this.value)},e.prototype.remove=function(){this.delete.emit(this.value.eid)},e.prototype.ngOnInit=function(){this.buttonType=this.isNew?"fa-plus":"fa-check",this.subtitle=this.isExpired?"Expired Contract":"Started "+o(this.value.contractDate).fromNow(),Object.assign(this.copy,this.value),this.calcSubtitle()},e.prototype.onChange=function(){this.isNew?this.addable.emit(this.value.firstname.length>0&&parseFloat(this.value.rate)>0):this.updatable.emit(!this.copy.isEqual(this.value)),this.calcSubtitle()},e.prototype.calcSubtitle=function(){this.subtitle=this.value.eid?this.isExpired?"Expired Contract":"Started "+o(this.value.contractDate).fromNow():"",this.subtitle+=this.value.eid?" - EID: "+this.value.eid:"Not in database yet"},e.prototype.onStartDateSelect=function(e){this.value.contractDate=e,this.onChange()},e.prototype.onEndDateSelect=function(e){this.value.contractEnd=e,this.onChange()},r([n.i(i.Input)(),s("design:type","function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object)],e.prototype,"value",void 0),r([n.i(i.Input)(),s("design:type",Boolean)],e.prototype,"updateEnabled",void 0),r([n.i(i.Input)(),s("design:type",Boolean)],e.prototype,"deleteEnabled",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"isNew",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"isExpired",void 0),r([n.i(i.Input)(),s("design:type",Number),s("design:paramtypes",[Number])],e.prototype,"updateCount",null),r([n.i(i.Output)(),s("design:type","function"==typeof(c="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&c||Object)],e.prototype,"add",void 0),r([n.i(i.Output)(),s("design:type","function"==typeof(d="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&d||Object)],e.prototype,"update",void 0),r([n.i(i.Output)(),s("design:type","function"==typeof(l="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&l||Object)],e.prototype,"delete",void 0),r([n.i(i.Output)(),s("design:type","function"==typeof(u="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&u||Object)],e.prototype,"updatable",void 0),r([n.i(i.Output)(),s("design:type","function"==typeof(p="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&p||Object)],e.prototype,"addable",void 0),e=r([n.i(i.Component)({selector:"app-employee-form",template:n(994),styles:[n(976)]}),s("design:paramtypes",[])],e);var t,c,d,l,u,p}()},790:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e.prototype.ngOnInit=function(){},e=a([n.i(i.Component)({selector:"app-footer",template:n(996),styles:[n(978)]}),o("design:paramtypes",[])],e)}()},791:function(e,t,n){"use strict";var i=(n(430),n(787));n.d(t,"a",function(){return i.a})},792:function(e,t,n){"use strict";var i=n(0),a=n(96);n.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.restService=e,this.newItem="",this.items=[],this.message="",this.errMessage="",this.beingEdited={},this.copy={},this.active={},this.pending={},this.resetLink={},this.fullname={},this.enableButton()}return e.prototype.enableButton=function(){this.btnClass="",this.btnLabel="Add",this.btnEnabled=!0},e.prototype.disableButton=function(){this.btnClass="pressed",this.btnLabel="Adding...",this.btnEnabled=!1},e.prototype.resetPwd=function(e){var t=this;if(!this.active[e]&&!this.pending[e]){var n=this.items.find(function(n){return n[t.idColumn]===e}),i=n[this.valueColumn],a=i,o=this.fullname[e];this.restService.insert("reset/"+e,{email:a,user:o}).subscribe(function(n){parseInt(n.json())?(t.showMessage("Sent a new invitation to this user."),t.pending[e]=!0,t.active[e]=!1):t.resetLink[e]=n.json()},function(e){t.showError("Could not sent a new invitation to this user: "+e.text())})}},e.prototype.remove=function(e){var t=this;console.log("remove",e),this.restService.delete(this.apiName,e).subscribe(function(n){var i=t.items.findIndex(function(n){return n[t.idColumn]===e});n.json()>0?(t.showMessage("deleted successfully "+n.json()+" row(s)"),t.items.splice(i,1),delete t.beingEdited[e],delete t.copy[e],delete t.active[e],delete t.pending[e]):n.json()===-1&&(t.showMessage("There are references to this user in worktime records as modifier - so it cannot be deleted but the account is deactivated and the user will not be able to login anymore."),t.active[e]=!1,t.pending[e]=!1)},function(e){return t.showError(e.text())})},e.prototype.add=function(){var e=this,t=this.items.findIndex(function(t){return e.newItem.toLowerCase()===t[e.valueColumn].toLowerCase()});if(t!==-1)this.showError('"'+this.newItem+'" already exists.');else{this.disableButton();var n={};n[this.valueColumn]=this.newItem,this.restService.insert(this.apiName,n).subscribe(function(t){e.enableButton();var n={},i=t.json();switch(e.apiName){case"user":e.showMessage('An email has been sent to "'+e.newItem+'" asking them to set a password.'),e.active[i]=!1,e.pending[i]=!0;break;case"branch":e.showMessage('Congratulations! "'+e.newItem+'" is added to the branches.'),e.active[i]=!0;break;default:e.showMessage('Row "'+e.newItem+'" added.');
}n[e.idColumn]=i,n[e.valueColumn]=e.newItem,e.beingEdited[i]=!1,e.copy[i]=e.newItem,e.items.push(n)},function(t){e.enableButton(),e.showError(t.text())})}},e.prototype.update=function(e,t){var n=this;if(13===t){var i={};i=this.items.find(function(t){return t[n.idColumn]===e}),this.restService.update(this.apiName,e,i).subscribe(function(t){n.beingEdited[e]=!1,n.copy[e]=i[n.valueColumn],t&&t.json()&&!parseInt(t.json())?n.resetLink[e]=t.json():t&&(n.pending[e]=!0,n.active[e]=!1)},function(t){n.showError("Could not update: "+t.text()),n.beingEdited[e]=!1,n.items.find(function(t){return t[n.idColumn]===e})[n.valueColumn]=n.copy[e]})}},e.prototype.letUpdate=function(e){this.beingEdited[e]=!0},e.prototype.showError=function(e){this.errMessage===e?this.errMessage+=" ":this.errMessage=e},e.prototype.showMessage=function(e){this.message===e?this.message+=" ":this.message=e},e.prototype.ngOnInit=function(){var e=this;this.restService.get(this.tableName).subscribe(function(t){e.items=t,t.forEach(function(t){var n=t[e.idColumn];t.firstname&&(e.fullname[n]=t.firstname+(t.surname?" "+t.surname:"")),e.beingEdited[n]=!1,e.copy[n]=t[e.valueColumn],e.active[n]=t.active,e.pending[n]=t.pending>0})},function(e){return console.log("Failed to get items",e)})},o([n.i(i.Input)("table"),r("design:type",Object)],e.prototype,"tableName",void 0),o([n.i(i.Input)("api"),r("design:type",Object)],e.prototype,"apiName",void 0),o([n.i(i.Input)("column"),r("design:type",String)],e.prototype,"valueColumn",void 0),o([n.i(i.Input)("id"),r("design:type",String)],e.prototype,"idColumn",void 0),o([n.i(i.Input)("placeholder"),r("design:type",String)],e.prototype,"placeholder",void 0),e=o([n.i(i.Component)({selector:"app-items",template:n(998),styles:[n(980)]}),r("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},793:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e.prototype.ngOnInit=function(){},e=a([n.i(i.Component)({selector:"app-leftbar",template:n(999),styles:[n(981)]}),o("design:paramtypes",[])],e)}()},794:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e.prototype.ngOnInit=function(){},e=a([n.i(i.Component)({selector:"app-main",template:n(1001),styles:[n(983)]}),o("design:paramtypes",[])],e)}()},795:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){this.opacity=0,this.transition="",this.height="0px",this.borderColor=null,this._message="",this._bgClass=""}return Object.defineProperty(e.prototype,"bgClass",{get:function(){return this._bgClass},set:function(e){this._bgClass=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){var t=this;this._message=e,this.opacity=1,this.height="auto",this.transition="border-color 0.3s ease-out";var n=1,i=setInterval(function(){t.borderColor=n%2?null:"darkred",n++},400);setTimeout(function(){clearInterval(i)},5e3),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.transition="opacity "+(.05*e.length).toString()+"s ease-out",t.opacity=0},250*e.length)},enumerable:!0,configurable:!0}),a([n.i(i.Input)(),o("design:type",Object),o("design:paramtypes",[Object])],e.prototype,"bgClass",null),a([n.i(i.Input)(),o("design:type",Object),o("design:paramtypes",[Object])],e.prototype,"message",null),e=a([n.i(i.Component)({selector:"app-message-fade-out",template:n(1002),styles:[n(984)]}),o("design:paramtypes",[])],e)}()},796:function(e,t,n){"use strict";var i=n(0),a=n(180),o=n(125);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.loginService=e,this.router=t,this.isLoggedIn=!1;var n=this;e.isLoggedIn$.subscribe(function(t){n.isLoggedIn=t,t&&(n.user=localStorage.getItem(e.auth_key).toLowerCase())})}return e.prototype.logout=function(){localStorage.removeItem(this.loginService.auth_key),this.router.navigate(["/login"]),this.loginService.logout().subscribe(function(e){console.log("logoout",e)},function(e){console.log("logout error",e)})},e=r([n.i(i.Component)({selector:"app-navbar",template:n(1003),styles:[n(985)]}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object,"function"==typeof(c="undefined"!=typeof o.a&&o.a)&&c||Object])],e);var t,c}()},797:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return r});var a=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e.prototype.ngOnInit=function(){},e=a([n.i(i.Component)({selector:"app-rightbar",template:n(1005),styles:[n(987)]}),o("design:paramtypes",[])],e)}()},798:function(e,t,n){"use strict";var i=n(0),a=n(96),o=n(2),r=(n.n(o),n(800));n.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this.restService=e,this.addedEmp="",this.list=new r.a(this.date,this.bid,this.restService)}return Object.defineProperty(e.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e,this.list=new r.a(e,this.bid,this.restService),this.ngOnInit()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vacantEmps",{get:function(){var e=this;return Object.keys(this.list.items).filter(function(t){return!Object.keys(e.list.items[t].worktimes).length}).map(function(t){return{id:t,value:e.list.items[t].name}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engagedEmps",{get:function(){var e=this;return Object.keys(this.list.items).filter(function(t){return Object.keys(e.list.items[t].worktimes).length})},enumerable:!0,configurable:!0}),e.prototype.workTimeIDs=function(e){return Object.keys(this.list.items[e].worktimes)},e.prototype.addNew=function(e){if(this.addedEmp.id){var t=e.clone();this.list.add(this.addedEmp.id,t),this.addedEmp="",this.newEmpElement.nativeElement.focus()}},e.prototype.getSubtitle=function(){return"On "+o(this.date).format("dddd, MMMM Do YYYY")},e.prototype.lock=function(){var e=this;this.restService.get("lock/"+this.bid).subscribe(function(t){console.log(t),e.isLocked=!0,e.lockedBy="You",e.lockedAt=o().format("HH:mm")},function(e){return console.log(e)})},e.prototype.ngOnInit=function(){var e=this;this.restService.get("islocked/"+this.bid).subscribe(function(t){t&&t.id?(e.isLocked=!0,e.lockedBy=t.id,e.lockedAt=o(t.ltime).format("HH:mm")):e.isLocked=!1}),this.restService.get("t/"+this.bid+"/"+o(this.date).format("YYYY-MM-DD")).subscribe(function(t){for(var n in t)e.list.load(t[n])},function(e){console.log("error in loading worktimes:",e)})},s([n.i(i.ViewChild)("newEmp"),c("design:type",Object)],e.prototype,"newEmpElement",void 0),s([n.i(i.Input)(),c("design:type",Object)],e.prototype,"bid",void 0),s([n.i(i.Input)(),c("design:type",Object)],e.prototype,"name",void 0),s([n.i(i.Input)(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"date",null),e=s([n.i(i.Component)({selector:"app-branch-timesheet",template:n(1006),styles:[n(988)]}),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.a&&a.a)&&t||Object])],e);var t}()},799:function(e,t,n){"use strict";var i=n(0),a=n(260),o=n(438);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(){this.btnName="add",this.beingEdited=!1,this.vChange=new i.EventEmitter,this.edited=new i.EventEmitter,this.deleted=new i.EventEmitter,this._i=new o.a,this.copy=new o.a}return Object.defineProperty(e.prototype,"initVal",{get:function(){return this._i},set:function(e){this._i=e.clone(),this._i.date=this.date,this.copy=e.clone(),this.copy.date=this.date},enumerable:!0,configurable:!0}),e.prototype.go=function(e,t){var n=[this.hi1,this.mi1,this.hi2,this.mi2,this.btn];if(9!==e.keyCode||e.shiftKey)if(e.shiftKey&&9===e.keyCode||37===e.keyCode)t>1?(n[t-2].nativeElement.focus(),n[t-2].nativeElement.select()):(n[0].nativeElement.focus(),n[0].nativeElement.select());else if(2===n[t-1].nativeElement.value.length){var i=parseInt(n[t-1].nativeElement.value);if(isNaN(i)||i<0||!(t%2)&&i>59||t%2&&i>23)n[t-1].nativeElement.value="00",n[t-1].nativeElement.style.borderColor="red",setTimeout(function(){return n[t-1].nativeElement.style.borderColor=null},1e3),n[t-1].nativeElement.focus(),n[t-1].nativeElement.select();else{var o=new a.a;o.hours=(t<3?this.hi1:this.hi2).nativeElement.value,o.minutes=(t<3?this.mi1:this.mi2).nativeElement.value,this._i[t<3?"start":"end"]=o,n[t]&&(n[t].nativeElement.focus(),t<4&&n[t].nativeElement.select())}}},e.prototype.add=function(){this._i.date=this.date,this.copy.date=this.date,this.vChange.emit(this._i.clone()),"update"===this.btnName?this.beingEdited=!1:this._i=new o.a},e.prototype.editStart=function(){this.beingEdited=!0,this.edited.emit(!0)},e.prototype.editCancel=function(){this.copy.start.infinity||(this.beingEdited=!1),this._i=this.copy.clone()},e.prototype.delete=function(){this.deleted.emit(!0)},e.prototype.changeBreakType=function(){this._i.nobreak=!this._i.nobreak},e.prototype.ngOnInit=function(){this._i.date=this.date,this.copy.date=this.date},r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"btnName",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"beingEdited",void 0),r([n.i(i.Input)("initValue"),s("design:type",Object)],e.prototype,"initVal",null),r([n.i(i.Output)(),s("design:type","function"==typeof(t="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&t||Object)],e.prototype,"vChange",void 0),r([n.i(i.Output)(),s("design:type","function"==typeof(c="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&c||Object)],e.prototype,"edited",void 0),r([n.i(i.Output)(),s("design:type","function"==typeof(d="undefined"!=typeof i.EventEmitter&&i.EventEmitter)&&d||Object)],e.prototype,"deleted",void 0),r([n.i(i.Input)(),s("design:type",Object)],e.prototype,"date",void 0),r([n.i(i.ViewChild)("hi1"),s("design:type",Object)],e.prototype,"hi1",void 0),r([n.i(i.ViewChild)("mi1"),s("design:type",Object)],e.prototype,"mi1",void 0),r([n.i(i.ViewChild)("hi2"),s("design:type",Object)],e.prototype,"hi2",void 0),r([n.i(i.ViewChild)("mi2"),s("design:type",Object)],e.prototype,"mi2",void 0),r([n.i(i.ViewChild)("btn"),s("design:type",Object)],e.prototype,"btn",void 0),e=r([n.i(i.Component)({selector:"app-interval-input",template:n(1007),styles:[n(989)]}),s("design:paramtypes",[])],e);var t,c,d}()},800:function(e,t,n){"use strict";var i=n(438),a=n(260);n.d(t,"a",function(){return o});var o=function(){function e(e,t,n){this.date=e,this.bid=t,this.restService=n,this.items={},this.beingEdited={},this.copy={},this._message=""}return Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){e===this._message&&(e+=" "),this._message=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toArray",{get:function(){var e=this,t=[];return Object.keys(this.items).forEach(function(n){var i=e.items[n];i.eid=n,t.push(i)}),t},enumerable:!0,configurable:!0}),e.prototype.load=function(e){var t=new i.a;if(t.date=this.date,e.wtid&&(t.startDateTime=e.start_time,t.endDateTime=e.end_time,t.breakMinutes=e.breaktime?e.breaktime:0,t.nobreak=Boolean(e.nobreak),t.by=e.updated_by),this.items[e.eid])e.wtid&&(this.copy[e.wtid]=t,this.items[e.eid].worktimes[e.wtid]=t,this.beingEdited[e.eid][e.wtid]=!1);else{var n={};this.beingEdited[e.eid]={},e.wtid&&(n[e.wtid]=t,this.beingEdited[e.eid][e.wtid]=!1),this.items[e.eid]={worktimes:n,name:e.firstname+" "+e.surname,nobreak:Boolean(e.nobreak)}}},e.prototype.add=function(e,t){var n=this,i=t.clone();this.restService.insert("t/"+this.bid+"/"+e,i.toObject()).subscribe(function(o){i.by="You",n.items[e].worktimes[o.json()]=i,t.start=new a.a,t.end=new a.a},function(e){n.message=e.text(),console.log("error while adding worktime:",e)})},e.prototype.update=function(e,t,n){var i=this;this.restService.update("t",t,n.toObject()).subscribe(function(){console.log("worktime "+t+"updated"),n.by="You",i.copy[t]=n,i.items[e].worktimes[t]=n},function(n){i.items[e].worktimes[t]=i.copy[t],i.beingEdited[e][t]=!1,i.message=n.text(),console.log("error while updaing worktime:",n)})},e.prototype.delete=function(e,t){var n=this;this.restService.delete("t",t).subscribe(function(){delete n.items[e].worktimes[t],delete n.copy[t]},function(e){n.message=e.text(),console.log("error while deleting worktime:",e)})},e}()},801:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={production:!0}},802:function(e,t,n){"use strict";var i=n(832),a=(n.n(i),n(825)),o=(n.n(a),n(821)),r=(n.n(o),n(827)),s=(n.n(r),n(826)),c=(n.n(s),n(824)),d=(n.n(c),n(823)),l=(n.n(d),n(831)),u=(n.n(l),n(820)),p=(n.n(u),n(819)),f=(n.n(p),n(829)),h=(n.n(f),n(822)),m=(n.n(h),n(830)),b=(n.n(m),n(828)),g=(n.n(b),n(833)),y=(n.n(g),n(1266));n.n(y)},96:function(e,t,n){"use strict";var i=n(0),a=n(93),o=n(133);n.n(o);n.d(t,"a",function(){return c});var r=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e}return e.prototype.insert=function(e,t){return this.http.put("/api/"+e,t)},e.prototype.get=function(e){return this.http.get("/api/"+e).map(function(e){return e.json()})},e.prototype.getWithParams=function(e,t){var n=new a.URLSearchParams;for(var i in t)t.hasOwnProperty(i)&&n.set(i,t[i]);return this.http.get("/api/"+e,{search:n}).map(function(e){return e.json()})},e.prototype.delete=function(e,t){return this.http.delete("/api/"+e+"/"+t)},e.prototype.update=function(e,t,n){return this.http.post("/api/"+e+"/"+t,n)},e=r([n.i(i.Injectable)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.Http&&a.Http)&&t||Object])],e);var t}()},970:function(e,t,n){function i(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./af":488,"./af.js":488,"./ar":493,"./ar-ly":489,"./ar-ly.js":489,"./ar-ma":490,"./ar-ma.js":490,"./ar-sa":491,"./ar-sa.js":491,"./ar-tn":492,"./ar-tn.js":492,"./ar.js":493,"./az":494,"./az.js":494,"./be":495,"./be.js":495,"./bg":496,"./bg.js":496,"./bn":497,"./bn.js":497,"./bo":498,"./bo.js":498,"./br":499,"./br.js":499,"./bs":500,"./bs.js":500,"./ca":501,"./ca.js":501,"./cs":502,"./cs.js":502,"./cv":503,"./cv.js":503,"./cy":504,"./cy.js":504,"./da":505,"./da.js":505,"./de":507,"./de-at":506,"./de-at.js":506,"./de.js":507,"./dv":508,"./dv.js":508,"./el":509,"./el.js":509,"./en-au":510,"./en-au.js":510,"./en-ca":511,"./en-ca.js":511,"./en-gb":512,"./en-gb.js":512,"./en-ie":513,"./en-ie.js":513,"./en-nz":514,"./en-nz.js":514,"./eo":515,"./eo.js":515,"./es":517,"./es-do":516,"./es-do.js":516,"./es.js":517,"./et":518,"./et.js":518,"./eu":519,"./eu.js":519,"./fa":520,"./fa.js":520,"./fi":521,"./fi.js":521,"./fo":522,"./fo.js":522,"./fr":525,"./fr-ca":523,"./fr-ca.js":523,"./fr-ch":524,"./fr-ch.js":524,"./fr.js":525,"./fy":526,"./fy.js":526,"./gd":527,"./gd.js":527,"./gl":528,"./gl.js":528,"./he":529,"./he.js":529,"./hi":530,"./hi.js":530,"./hr":531,"./hr.js":531,"./hu":532,"./hu.js":532,"./hy-am":533,"./hy-am.js":533,"./id":534,"./id.js":534,"./is":535,"./is.js":535,"./it":536,"./it.js":536,"./ja":537,"./ja.js":537,"./jv":538,"./jv.js":538,"./ka":539,"./ka.js":539,"./kk":540,"./kk.js":540,"./km":541,"./km.js":541,"./ko":542,"./ko.js":542,"./ky":543,"./ky.js":543,"./lb":544,"./lb.js":544,"./lo":545,"./lo.js":545,"./lt":546,"./lt.js":546,"./lv":547,"./lv.js":547,"./me":548,"./me.js":548,"./mi":549,"./mi.js":549,"./mk":550,"./mk.js":550,"./ml":551,"./ml.js":551,"./mr":552,"./mr.js":552,"./ms":554,"./ms-my":553,"./ms-my.js":553,"./ms.js":554,"./my":555,"./my.js":555,"./nb":556,"./nb.js":556,"./ne":557,"./ne.js":557,"./nl":558,"./nl.js":558,"./nn":559,"./nn.js":559,"./pa-in":560,"./pa-in.js":560,"./pl":561,"./pl.js":561,"./pt":563,"./pt-br":562,"./pt-br.js":562,"./pt.js":563,"./ro":564,"./ro.js":564,"./ru":565,"./ru.js":565,"./se":566,"./se.js":566,"./si":567,"./si.js":567,"./sk":568,"./sk.js":568,"./sl":569,"./sl.js":569,"./sq":570,"./sq.js":570,"./sr":572,"./sr-cyrl":571,"./sr-cyrl.js":571,"./sr.js":572,"./ss":573,"./ss.js":573,"./sv":574,"./sv.js":574,"./sw":575,"./sw.js":575,"./ta":576,"./ta.js":576,"./te":577,"./te.js":577,"./th":578,"./th.js":578,"./tl-ph":579,"./tl-ph.js":579,"./tlh":580,"./tlh.js":580,"./tr":581,"./tr.js":581,"./tzl":582,"./tzl.js":582,"./tzm":584,"./tzm-latn":583,"./tzm-latn.js":583,"./tzm.js":584,"./uk":585,"./uk.js":585,"./uz":586,"./uz.js":586,"./vi":587,"./vi.js":587,"./x-pseudo":588,"./x-pseudo.js":588,"./zh-cn":589,"./zh-cn.js":589,"./zh-hk":590,"./zh-hk.js":590,"./zh-tw":591,"./zh-tw.js":591};i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=970},974:function(e,t){e.exports=""},975:function(e,t){e.exports=""},976:function(e,t){e.exports='div.date-group{\n    white-space:nowrap;\n    margin-left:10px;\n    padding-top:22px;\n    display:inline-block;\n    vertical-align:middle;\n}\nspan.date-label{\n    width:90px;\n}\n\n.date-input{\n    width:82px;\n}\nspan.manager{\n    font-size:75%;\n    font-family:Menlo, Monaco, Consolas, "Courier New", monospace;\n    background-color:darkred;\n    border:1px #660000 solid;\n    border-radius:4px;\n    margin:0px 10px 0px 10px;\n    padding:2px;\n    color:white;\n    display:inline-block;\n}'},977:function(e,t){e.exports=""},978:function(e,t){e.exports=""},979:function(e,t){e.exports=""},980:function(e,t){e.exports='.pressed{\n    border:grey solid 1px;\n    color:darkgrey;\n}\n\n.hidden{\n    display:none;\n    width:0px;\n    visibility:hidden;\n}\n\nli.inactive{\n    background-color:rgba(250,250,230,.8);\n}\n\nspan.inactive{\n    font-size:75%;\n    font-family:Menlo, Monaco, Consolas, "Courier New", monospace;\n    text-transform:uppercase;\n    background-color:#607d8b;\n    border:1px #374f5c solid;\n    border-radius:4px;\n    margin:0px 10px 0px 10px;\n    padding:2px;\n    color:white;\n}'},981:function(e,t){e.exports=""},982:function(e,t){e.exports='.login-form-wrapper div{\n  padding:3px;\n  font-family:\'Varela Round\';\n}\n.etc-login-form{\n  color:#919191;\n  padding:10px 20px;\n}\n.etc-login-form p{\n  margin-bottom:5px;\n}\n.etc-login-form{\n  color:#919191;\n  padding:10px 20px;\n}\n.etc-login-form p{\n  margin-bottom:5px;\n}\n.login-form-1{\n  max-width:350px;\n  border-radius:5px;\n  display:inline-block;\n  background:#efefef;\n}\n.main-login-form{\n  position:relative;\n}\n.login-form-1 a{\n  color:#aaaaaa;\n  transition:all ease-in-out 200ms;\n}\n.login-form-1 a:hover{\n  color:#333333;\n  text-decoration:none;\n}\n.login-form-1 .form-control{\n  border:0;\n  box-shadow:0 0 0;\n  border-radius:0;\n  background:transparent;\n  color:#555555;\n  padding:7px 0;\n  font-weight:bold;\n  height:auto;\n  width:200px;\n  display:inline-block;\n}\n.login-form-1 .form-control::-webkit-input-placeholder{\n  color:#999999;\n}\n.login-form-1 .form-control:-moz-placeholder,\n.login-form-1 .form-control::-moz-placeholder,\n.login-form-1 .form-control:-ms-input-placeholder{\n  color:#999999;\n}\n.login-form-1 .form-group{\n  margin-bottom:0;\n  border-bottom:2px solid #efefef;\n  padding-right:20px;\n  position:relative;\n}\n.login-form-1 .form-group:last-child{\n  border-bottom:0;\n}\n.login-group{\n  background:#ffffff;\n  color:#999999;\n  border-radius:8px;\n  padding:10px 20px;\n}\n.login-group-checkbox{\n  padding:5px 0;\n}\n.login-form-1 .login-button{\n  position:absolute;\n  right:-25px;\n  top:50%;\n  background:#ffffff;\n  color:#999999;\n  padding:11px 0;\n  width:50px;\n  height:50px;\n  margin-top:-25px;\n  border:5px solid #efefef;\n  border-radius:50%;\n  transition:all ease-in-out 500ms;\n}\n.login-form-1 .login-button:hover{\n  color:#555555;\n  transform:rotate(450deg);\n}\n.login-form-1 .login-button.clicked{\n  color:#555555;\n}\n.login-form-1 .login-button.clicked:hover{\n  transform:none;\n}\n.login-form-1 .login-button.clicked.success{\n  color:#2ecc71;\n}\n.login-form-1 .login-button.clicked.error{\n  color:#e74c3c;\n}\nlabel.form-invalid{\n  position:absolute;\n  top:0;\n  right:0;\n  z-index:5;\n  display:block;\n  margin-top:-25px;\n  padding:7px 9px;\n  background:#777777;\n  color:#ffffff;\n  border-radius:5px;\n  font-weight:bold;\n  font-size:11px;\n}\nlabel.form-invalid:after{\n  top:100%;\n  right:10px;\n  border:solid transparent;\n  content:" ";\n  height:0;\n  width:0;\n  position:absolute;\n  pointer-events:none;\n  border-color:transparent;\n  border-top-color:#777777;\n  border-width:6px;\n}\n.login-form-main-message{\n  background:#ffffff;\n  border:0px;\n  margin-bottom:8px;\n  font-weight:bold;\n  height:0;\n  padding:0px;\n  opacity:0;\n  transition:all ease-in-out 200ms;\n  color:green;\n}\n.login-form-main-message.show{\n  height:auto;\n  opacity:1;\n  padding:10px 20px 10px 17px;\n}\n.login-form-main-message.success{\n  border-left-color:#2ecc71;\n}\n.login-form-main-message.error{\n  color:red;\n}\n[type="checkbox"]:not(:checked),\n[type="checkbox"]:checked,\n[type="radio"]:not(:checked),\n[type="radio"]:checked{\n  position:absolute;\n  left:-9999px;\n}\n[type="checkbox"]:not(:checked) + label,\n[type="checkbox"]:checked + label,\n[type="radio"]:not(:checked) + label,\n[type="radio"]:checked + label{\n  position:relative;\n  padding-left:25px;\n  padding-top:1px;\n  cursor:pointer;\n}\n[type="checkbox"]:not(:checked) + label:before,\n[type="checkbox"]:checked + label:before,\n[type="radio"]:not(:checked) + label:before,\n[type="radio"]:checked + label:before{\n  content:\'\';\n  position:absolute;\n  left:0;\n  top:2px;\n  width:17px;\n  height:17px;\n  border:0px solid #aaa;\n  background:#f0f0f0;\n  border-radius:3px;\n  box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.3);\n}\n[type="checkbox"]:not(:checked) + label:after,\n[type="checkbox"]:checked + label:after,\n[type="radio"]:not(:checked) + label:after,\n[type="radio"]:checked + label:after{\n  position:absolute;\n  color:#555555;\n  transition:all .2s;\n}\n[type="checkbox"]:not(:checked) + label:after,\n[type="radio"]:not(:checked) + label:after{\n  opacity:0;\n  transform:scale(0);\n}\n[type="checkbox"]:checked + label:after,\n[type="radio"]:checked + label:after{\n  opacity:1;\n  transform:scale(1);\n}\n[type="checkbox"]:disabled:not(:checked) + label:before,\n[type="checkbox"]:disabled:checked + label:before,\n[type="radio"]:disabled:not(:checked) + label:before,\n[type="radio"]:disabled:checked + label:before{\n  box-shadow:none;\n  border-color:#8c8c8c;\n  background-color:#878787;\n}\n[type="checkbox"]:disabled:checked + label:after,\n[type="radio"]:disabled:checked + label:after{\n  color:#555555;\n}\n[type="checkbox"]:disabled + label,\n[type="radio"]:disabled + label{\n  color:#8c8c8c;\n}\n[type="checkbox"]:checked:focus + label:before,\n[type="checkbox"]:not(:checked):focus + label:before,\n[type="checkbox"]:checked:focus + label:before,\n[type="checkbox"]:not(:checked):focus + label:before{\n  border:1px dotted #f6f6f6;\n}\nlabel:hover:before{\n  border:1px solid #f6f6f6 !important;\n}\n[type="checkbox"]:not(:checked) + label:before,\n[type="checkbox"]:checked + label:before{\n  border-radius:3px;\n}\n[type="radio"]:not(:checked) + label:before,\n[type="radio"]:checked + label:before{\n  border-radius:35px;\n}\n[type="checkbox"]:not(:checked) + label:after,\n[type="checkbox"]:checked + label:after{\n  content:\'✔\';\n  top:0;\n  left:2px;\n  font-size:14px;\n}\n[type="radio"]:not(:checked) + label:after,\n[type="radio"]:checked + label:after{\n  content:\'\\2022\';\n  top:0;\n  left:3px;\n  font-size:30px;\n  line-height:25px;\n}\n.logo{\n  font-size:25px;\n  color:#aaaaaa;\n  font-weight:bold;\n}\n'},983:function(e,t){e.exports=""},984:function(e,t){e.exports="p.warning{\n    border:2px solid transparent;\n    position:fixed;\n    top:52px;\n    left:0px;\n    z-index:100;\n    font-size:18px;\n    padding:3px;\n    border-radius:5px;\n}\np.info{\n    border:0px solid transparent;\n    position:fixed;\n    bottom:0px;\n    left:0px;\n    z-index:100;\n    font-size:18px;\n    padding:3px;\n    border-radius:5px;\n}"},985:function(e,t){e.exports=""},986:function(e,t){e.exports=".rtpDatePicker{\n    padding-bottom:10px;\n    margin-bottom:5px;\n    display:inline-block;\n}\n\n.darkbg{\n    background-color:rgba(55, 55, 55, 0.1);\n}\n.sumrow{\n    background:rgba(229, 229, 116, 0.5);\n    font-weight:bold;\n}\n.sentEmail{\n    border-color:rgba(0,100,255,.5) !important;\n    color:rgba(0, 58, 123, 0.5) !important\n}\nbutton{\n    border:outset 2px;\n    border-radius:5px;\n}\ndiv.panel{\n    background-color:transparent;\n}"},987:function(e,t){e.exports=""},988:function(e,t){e.exports="md-card.md-card{\n    min-height:600px;\n}\ninput.name-picker{\n    width:400px;\n}"},989:function(e,t){e.exports='input.time{\n    width:25px;\n    padding:0;\n    float:none;\n    height:25px;\n    text-align:center;\n}\nspan.time{\n    background-color:#607d8b;\n    color:white;\n    border-radius:5px;\n    padding:2px;\n    margin:2px;\n    font-size:12px;\n    display:inline-block;\n}\nspan.updating{\n    border-radius:5px;\n    background-color:#607d8b;\n    padding:2px;\n    margin:2px;\n    display:inline-block;\n}\n\nspan.nobreak{\n    font-size:75%;\n    font-family:Menlo, Monaco, Consolas, "Courier New", monospace;\n    text-transform:uppercase;\n    background-color:darkred;\n    border:1px #374f5c solid;\n    border-radius:4px;\n    margin:0px 10px 0px 10px;\n    padding:2px;\n    color:white;\n}\n\nspan.hasbreak{\n    background-color:darkcyan !important;\n}'},990:function(e,t){e.exports=""},991:function(e,t){e.exports=""},992:function(e,t){e.exports='<nav class="navbar navbar-inverse">\n    <app-navbar></app-navbar>\n</nav>\n\n<div class="container-fluid text-center">\n    <div class="row content">\n        <app-leftbar></app-leftbar>\n        <app-main></app-main>\n        <app-rightbar></app-rightbar>\n    </div>\n</div>\n<app-footer></app-footer>\n'},993:function(e,t){e.exports="<app-items [api]=\"'branch'\" [table]=\"'branches'\" [column]=\"'name'\" [id]=\"'bid'\" [placeholder]=\"'Add branch'\"></app-items>"},994:function(e,t){e.exports='<md-card [ngClass]="[\'md-card\', isNew?(updateEnabled?\'md-add\':\'\'):(updateEnabled?\'md-update\':(isExpired?\'md-expired\':\'\'))]">\n  <md-card-title class="app-input-section">{{this.isNew ? \'New Employee\' : this.value.toString() }}</md-card-title>\n  <md-card-subtitle>{{subtitle}}</md-card-subtitle>\n  <md-input placeholder="First name" maxlength="{{nameLength}}" [(ngModel)]="value.firstname" #firstname (change)="onChange()">\n    <md-hint align="end">\n      {{firstname.characterCount}} / {{nameLength}}\n    </md-hint>\n  </md-input>\n  <md-input placeholder="Surname" maxlength="{{nameLength}}" #surname [(ngModel)]="value.surname" (change)="onChange()">\n    <md-hint align="end">\n      {{surname.characterCount}} / {{nameLength}}\n    </md-hint>\n  </md-input>\n  <md-input placeholder="Email" maxlength="100" [(ngModel)]="value.email" #email (change)="onChange()">\n    <md-hint align="end">\n      {{email.characterCount}} / 100\n    </md-hint>\n  </md-input>\n  <md-input placeholder="Rate" align="end" [(ngModel)]="value.rate" style="width:55px" (change)="onChange()">\n    <span md-prefix>£</span>\n  </md-input>\n  <md-checkbox *ngIf="isNew" [(ngModel)]="value.isManager" (change)="onChange()">Manager</md-checkbox>\n  <span *ngIf="!isNew&&value.isManager" class="manager">MANAGER: {{value.username}}</span>\n  <div *ngIf="value.isManager&&isNew">†\n    <md-input placeholder="Username" [(ngModel)]="value.username" #username (change)="onChange()"></md-input>\n    <md-input type="Password"  placeholder="Password" [(ngModel)]="value.password" #password (change)="onChange()"></md-input>\n  </div>\n<div class="date-group">\n    <div class="input-group">\n      <span class="input-group-addon date-label" id="sizing-addon2">Start Date</span>\n      <material-datepicker class="date-input" [date]="value.contractDate" (onSelect)="onStartDateSelect($event)"></material-datepicker>\n    </div>\n    <div class="input-group">\n      <span class="input-group-addon date-label" id="sizing-addon2">End Date</span>\n      <material-datepicker class="date-input" [date]="value.contractEnd" (onSelect)="onEndDateSelect($event)"></material-datepicker>\n    </div>\n</div>\n  <md-card-actions>\n    <button md-mini-fab [disabled]="!updateEnabled" (click)="action()" color="primary" title="{{(isNew?\'Add \':\'Update \')+ \' Employee Record\'}}">\n      <md-icon fontSet="fa" [fontIcon]="buttonType"></md-icon>\n    </button>\n    <button *ngIf="!isNew" md-mini-fab [disabled]="!deleteEnabled" (click)="remove()" color="accent" title="Delete Employee Record">\n      <md-icon fontSet="fa" fontIcon="fa-times"></md-icon>\n    </button>\n  </md-card-actions>\n</md-card>';
},995:function(e,t){e.exports='<app-employee-form (add)="add($event)" [updateEnabled]="addEnabled" [isNew]="true" (addable)="this.addEnabled=$event"></app-employee-form>\n<app-message-fade-out [bgClass]="\'info\'" [(message)]="message"></app-message-fade-out>\n<app-message-fade-out [bgClass]="\'warning\'" [(message)]="errMessage"></app-message-fade-out>\n<ul class="list-group">\n  <li class="list-group-item" *ngFor="let item of items">\n    <app-employee-form [value]="item" [updateEnabled]="updateEnabled[item.eid]" [deleteEnabled]="deleteEnabled[item.eid]" [isNew]="false" [updateCount]="updateCount[item.eid]" [isExpired]="item.isExpired()"\n                       (update)="update($event)" (delete)="remove($event)" (updatable)="onUpdatable(item.eid,$event)"></app-employee-form>\n  </li>\n</ul>'},996:function(e,t){e.exports='\n<footer class="container-fluid text-center">\n  &copy; Copyright 2016 Burgista UK | All Rights Reserved\n</footer>'},997:function(e,t){e.exports=""},998:function(e,t){e.exports='<h1 style="text-transform: capitalize">{{tableName}}</h1>\n<app-message-fade-out [bgClass]="\'info\'" [(message)]="message"></app-message-fade-out>\n<app-message-fade-out [bgClass]="\'warning\'" [(message)]="errMessage"></app-message-fade-out>\n<ul class="list-group">\n  <li class="list-group-item" *ngFor="let item of items" [class.inactive]="!active[item[idColumn]]">\n    <span *ngIf="fullname[item[idColumn]]">{{fullname[item[idColumn]]}}:</span><input [ngClass]="[beingEdited[item[idColumn]]?\'\':\'hidden\']" [(ngModel)]="item[valueColumn]" (blur)="update(item[idColumn],13)" (keydown)="update(item[idColumn],$event.keyCode)"> <span [ngClass]="[beingEdited[item[idColumn]]?\'hidden\':\'\']" (click)="letUpdate(item[idColumn])">{{item[valueColumn]}}</span><span *ngIf="!active[item[idColumn]]" (click)="resetPwd(item[idColumn])" class="inactive">{{pending[item[idColumn]]?\'pending\':\'inactive\'}}</span><span *ngIf="resetLink[item[idColumn]]"><a [href]="resetLink[item[idColumn]]" target="_blank">reset password</a></span><span (click)="remove(item[idColumn])"><i class=" fa fa-times fa-fw" style=\'color: red\' aria-hidden="true"></i></span>\n  </li>\n</ul>\n<div *ngIf="idColumn===\'bid\'" class="input-group">\n  <input type="text" class="form-control" [(ngModel)]="newItem" autofocus [placeholder]="placeholder">\n  <span class="input-group-btn">\n    <button type="button" (click)="add()" [ngClass]="[\'btn\',\'btn-secondary\',btnClass]" [disabled]="!btnEnabled">{{btnLabel}}</button>\n  </span>\n</div>'},999:function(e,t){e.exports='<div class="col-sm-2 sidenav">\n\n</div>\n'}},[1267]);
//# sourceMappingURL=main.caf6666019f733cb00eb.bundle.map